<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MBT Force Calculation</title>
</head>

<body>
    <input type="number" id="input" placeholder="Insert number of forces">
    <button type="button" id="button_1" onclick="programm()">Add forces</button>
    <button type="button" id="button_2" onclick="calculation()">Start Calculation</button><br>
    <input type="checkbox" id="checkbox">Show advanced calculations
    <div id="forces_container">//forces_container</div>
    <div id="angles_container">//angles_container</div>
    <!-- output -->
    <div id="sin_a_container">//sin_a:</div>
    <div id="cos_a_container">//cos_a:</div>
    <div id="force_y_container">//force_y:</div>
    <div id="force_x_container">//force_x:</div>
    <div id="force_y_ges_container">//force_y:</div>
    <div id="force_x_ges_container">//force_x:</div>
    <div id="force_ges_container">//force_ges:</div>
    <div id="angle_force_ges_container">//angle_force_ges:</div>
    <script>
        function programm() {
            let input = document.getElementById("input").value
            document.getElementById("forces_container").innerHTML = '';
            document.getElementById("angles_container").innerHTML = '';
            for (let i = 1; i <= input; i++) {
                addForces(i)
                addAngles(i)
            }
        }
        function addForces(i) {
            let newElement = document.createElement("input")
            let br = document.createElement("br")
            newElement.type = "number"
            newElement.id = `force_input_${i}`
            newElement.placeholder = `Force: ${i}`
            document.getElementById("forces_container").appendChild(newElement)
            document.getElementById("forces_container").appendChild(br)
        }
        function addAngles(i) {
            let newElement = document.createElement("input")
            let br = document.createElement("br")
            newElement.type = "number"
            newElement.id = `angle_input_${i}`
            newElement.placeholder = `Angle: ${i}`
            document.getElementById("angles_container").appendChild(newElement)
            document.getElementById("angles_container").appendChild(br)
        }
        function calculation() {
            SinA = ""
            CosA = ""
            ForceX = ""
            ForceY = ""
            ForceGes = ""
            AngleGes = ""
            let input = document.getElementById("input").value;
            let ForceX_ges = 0, ForceY_ges = 0, angle, force, sinusA, cosinusA, KraftX, KraftY;
            for (let i = 1; i <= input; i++) {
                angle = document.getElementById(`angle_input_${i}`).value;
                force = document.getElementById(`force_input_${i}`).value;
                console.log(`angle: ${angle}`);
                console.log(`force: ${force}`);
                SIN_A(i);
                COS_A(i);
                KRAFT_Y(i);
                KRAFT_X(i);
                ForceX_ges += KraftX;
                ForceY_ges += KraftY;
            }
            ForceYGes = `Forces in Y-Direction: ${ForceY_ges}`;
            ForceXGes = `Forces in X-Direction: ${ForceX_ges}`;
            F_GES();
            F_ALPHA();
            function SIN_A(i) {
                sinusA = Math.round(Math.sin(angle * (Math.PI / 180)) * 1000) / 1000;
                SinA += `Sinus Alpha ${i}: ${sinusA}<br>`;
            }
            function COS_A(i) {
                cosinusA = Math.round(Math.cos(angle * (Math.PI / 180)) * 1000) / 1000;
                CosA += `Cosinus Alpha ${i}: ${cosinusA}<br>`;
            }
            function KRAFT_Y(i) {
                KraftY = Math.round(sinusA * force * 1000) / 1000;
                ForceY += `Force ${i} in Y-direction: ${KraftY}<br>`;
            }
            function KRAFT_X(i) {
                KraftX = Math.round(cosinusA * force * 1000) / 1000;
                ForceX += `Force ${i} in X-direction: ${KraftX}<br>`;
            }
            function F_GES() {
                ForceGes = Math.round(Math.sqrt(Math.pow(ForceX_ges, 2) + Math.pow(ForceY_ges, 2)) * 1000) / 1000;
            }
            function F_ALPHA() {
                AngleGes = Math.round(Math.atan2(ForceY_ges, ForceX_ges) * (180 / Math.PI) * 1000) / 1000;
            }
            advanced()
            document.getElementById("force_ges_container").innerHTML = ForceGes;
            document.getElementById("angle_force_ges_container").innerHTML = AngleGes;
        }
        function advanced() {
            if (document.getElementById("checkbox").checked) {
                document.getElementById("sin_a_container").innerHTML = SinA;
                document.getElementById("cos_a_container").innerHTML = CosA;
                document.getElementById("force_y_container").innerHTML = ForceY;
                document.getElementById("force_x_container").innerHTML = ForceX;
                document.getElementById("force_y_ges_container").innerHTML = ForceYGes;
                document.getElementById("force_x_ges_container").innerHTML = ForceXGes;
            } else {
                document.getElementById("sin_a_container").innerHTML = "";
                document.getElementById("cos_a_container").innerHTML = "";
                document.getElementById("force_y_container").innerHTML = "";
                document.getElementById("force_x_container").innerHTML = "";
                document.getElementById("force_y_ges_container").innerHTML = "";
                document.getElementById("force_x_ges_container").innerHTML = "";
            }
        }
    </script>
</body>

</html>